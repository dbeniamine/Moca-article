%!TEX encoding=UTF-8 Unicode

\documentclass[10pt, conference, compsocconf]{sty/IEEEtran}

%========================= Encodage fontes et langues =========================

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}

%==============================================================================

%========================= Mise en forme de code ==============================
\usepackage{algorithm}
\usepackage{algpseudocode}

\algblockdefx[]{Function}{EndFunction}
[2]{\algorithmicfunction\ \textproc{#1}{(#2)}}%
{\algorithmicend\ \algorithmicfunction}%


\algnewcommand\Callp[2]{\textproc{#1}(#2)}%

%\algblockdefx[<block>]{<start>}{<end>}
%[<startparamcount>][<default value>]{<start text>}
%[<endparamcount>][<default value>]{<end text>}

\usepackage{listings}
%Langage algorithmique français

\lstset{% general command to set parameter(s)
    basicstyle=\small,
    keywordstyle=\color{BrickRed}\bfseries,
    identifierstyle=,
    commentstyle=\color{blue},
    stringstyle=\ttfamily,
    showstringspaces=false,
    language=C,
    numbers=left, %numérotation des ligne
    stepnumber=1, %à chaque ligne les lignes
    numbersep=10pt, %décalage numéros ligne/ texte
    mathescape=true,%mode math autorisé
    tabsize=4, %tabulation
    frame=single,%encadrement simple
    frameround=tttt,%encadrement
    morecomment=[s][\color{red}]{/*-}{*/},%commentaires spéciaux en rouge
    extendedchars=false,
    breaklines=true,
}

%==============================================================================

% gestion des hyperliens
\usepackage{hyperref}
\hypersetup{
    colorlinks=true, %colore les liens
    breaklinks=true, %permet le retour à la ligne dans les liens trop longs
    urlcolor= blue, %couleur des hyperliens
    linkcolor= black, %couleur des liens internes
bookmarksopen=true}

%==============================================================================

%========================== Images ============================================

\usepackage[]{caption}
%\usepackage{fixltx2e}
%\usepackage{stfloats}
\usepackage{dblfloatfix}
\usepackage{url}
\usepackage{xspace}

\usepackage{tikz}
\usetikzlibrary{shapes,arrows,decorations,decorations.pathreplacing,decorations.markings,fit}
\usetikzlibrary{backgrounds,calc}

\pgfdeclarelayer{background}
\pgfdeclarelayer{bg1}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,bg1,main,foreground}

\tikzstyle{handler} = [diamond, draw, fill=orange!30,
text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{handlerI} = [diamond,
text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{data} = [rectangle, draw, fill=blue!25,
text width=5em, text centered, rounded corners, node distance=3cm, minimum height=4em]
\tikzstyle{Chunk} = [rectangle, draw,rounded corners]
\tikzstyle{dataL} = [rectangle, draw, fill=blue!10,
text width=5em, text centered, rounded corners, node distance=3cm, minimum height=4em]
\tikzstyle{entity} = [draw, ellipse,node distance=3cm,text centered,
text width=5em,minimum height=2em]
\tikzstyle{line} = [thick,align=center]
\tikzstyle{pf} = [fill=green]
\tikzstyle{log} = [fill=orange]
\tikzstyle{mon} = [fill=red]
\tikzstyle{monA} = [->,line,red]
\tikzstyle{pfA} =  [->,line,green]
\tikzstyle{pfAI} =  [line,green]
\tikzstyle{logA} = [->,line,orange]

\tikzset{
  basic box/.style = {
    shape = rectangle,
    draw,
    rounded corners},
  filled box/.style = {
    shape = rectangle,
    draw  = #1,
    fill  = #1!25,
    rounded corners},
  header node/.style = {
    %Minimum Width = header nodes,
    font          = \strut\Large\ttfamily,
    text depth    = +0pt,
    fill          = white,
    draw},
  header/.style = {%
    inner ysep = +1.5em,
    append after command = {
      \pgfextra{\let\TikZlastnode\tikzlastnode}
      node [header node] (header-\TikZlastnode) at (\TikZlastnode.north) {#1}
      %node %[span = (\TikZlastnode)(header-\TikZlastnode)]
       % at (fit bounding box) (h-\TikZlastnode) {}
    }
  },
  hv/.style = {to path = {-|(\tikztotarget)\tikztonodes}},
  vh/.style = {to path = {|-(\tikztotarget)\tikztonodes}},
  fat blue line/.style = {ultra thick, blue}
}




%==============================================================================


\usepackage{todonotes}
\newcommand{\DB}[1]{\todo[author=David,inline]{#1}}
\newcommand{\GH}[1]{\todo[author=Guillaume,inline]{#1}}

\newcommand{\Input}[1]{\input{tex/#1}}
\newcommand{\Moca}{\emph{MOCA}\xspace}
%==============================================================================

%========================= Titre auteur etc ===================================
\title{Moca: An efficient Memory trace collection system}
\author{\IEEEauthorblockN{David Beniamine, Guillaume Huard}
\IEEEauthorblockA{Univ. Grenoble Alpes, LIG, F-38000 Grenoble, France\\
CNRS, LIG, F-38000 Grenoble, France\\
Inria\\
%<firstname>.<lastname>@imag.fr}
\{David.Beniamine,Guillaume.Huard\}@Imag.fr}
}


%==============================================================================

\begin{document}


\maketitle

\begin{abstract}
    \DB{write abstract}
\end{abstract}

\listoftodos
\Input{intro.tex}
\Input{related.tex}
\Input{design.tex}
\Input{experiment.tex}
\Input{cncl.tex}

\bibliographystyle{sty/IEEEtranBST/IEEEtran}
\bibliography{biblio}
\end{document}


